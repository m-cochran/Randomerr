---
layout: default
title: "Reset-Password"
permalink: /reset-password/
---





<!-- public/reset-password.html -->
<div class="reset-container">
  <h2>Reset Password</h2>
  <form id="reset-form" class="reset-form">
    <input type="password" id="new-password" placeholder="New password" required>
    <button type="submit" class="btn">Reset Password</button>
  </form>
  <p id="msg" class="msg" aria-live="polite"></p>
</div>

<style>
  /* Reset password page */
.reset-container {
  max-width: 420px;
  margin: 4rem auto;
  padding: 2rem;
  border-radius: 12px;
  box-shadow: 0 6px 24px rgba(10,10,10,0.08);
  background: #ffffff;
  text-align: center;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

.reset-container h2 {
  margin: 0 0 1rem;
  font-size: 1.5rem;
  color: #12202b;
  letter-spacing: -0.2px;
}

/* Form */
.reset-form {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  align-items: stretch;
}

/* Password input */
.reset-form input[type="password"] {
  width: 100%;
  padding: 0.75rem 0.9rem;
  border-radius: 10px;
  border: 1px solid #d4d8dd;
  font-size: 1rem;
  outline: none;
  transition: box-shadow .15s ease, border-color .15s ease;
  box-sizing: border-box;
}

.reset-form input[type="password"]:focus {
  border-color: #5b9bd5;
  box-shadow: 0 4px 18px rgba(91,155,213,0.12);
}

/* Button – reuse same style */
.reset-form .btn {
  display: inline-block;
  padding: 0.75rem 1rem;
  border-radius: 10px;
  border: none;
  background: linear-gradient(180deg,#1366d6,#0b57b1);
  color: #fff;
  font-weight: 600;
  cursor: pointer;
  font-size: 1rem;
  transition: transform .08s ease, box-shadow .08s ease, opacity .08s ease;
}

.reset-form .btn:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(11,87,177,0.12); }
.reset-form .btn:active { transform: translateY(0); }

.reset-form .btn[disabled] {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

/* Message text */
.msg {
  margin-top: 0.75rem;
  min-height: 1.25rem;
  font-size: 0.95rem;
}

.msg.success { color: #08660d; }
.msg.error { color: #8b1e1e; }

@media (max-width: 480px) {
  .reset-container { margin: 2rem 1rem; padding: 1.25rem; }
  .reset-container h2 { font-size: 1.25rem; }
}
</style>

<script>
const params = new URLSearchParams(window.location.search);
const token = params.get('token');

const form = document.getElementById('reset-form');
const btn  = form.querySelector('button'); // the only button in form
const msg  = document.getElementById('msg');

if (!token) {
  msg.textContent = 'Missing reset token.';
  msg.classList.add('error');
  form.querySelector('button').disabled = true;
}

form.addEventListener('submit', async (e) => {
  e.preventDefault();
  btn.disabled = true;
  btn.textContent = 'Resetting…';
  msg.className = 'msg'; // reset classes

  try {
    const newPassword = document.getElementById('new-password').value;
    const res = await fetch('http://localhost:3000/api/reset-password', {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({ token, newPassword })
    });
    const data = await res.json();

    if (res.ok) {
      msg.textContent = data.message || 'Password has been reset.';
      msg.classList.add('success');
      form.reset();
    } else {
      msg.textContent = data.message || 'Invalid or expired token.';
      msg.classList.add('error');
    }
  } catch (err) {
    msg.textContent = 'Something went wrong.';
    msg.classList.add('error');
    console.error(err);
  } finally {
    btn.disabled = false;
    btn.textContent = 'Reset Password';
  }
});
</script>
